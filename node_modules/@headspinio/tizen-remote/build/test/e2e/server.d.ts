declare const TestWSServer_base: typeof import("ws").Server;
/**
 * Websocket server for E2E API testing
 */
export class TestWSServer extends TestWSServer_base {
    /**
     * @param {import('ws').ServerOptions & {keepaliveTimeout?: number, keepalive?: boolean}} opts
     */
    constructor(opts: import("ws").ServerOptions & {
        keepaliveTimeout?: number;
        keepalive?: boolean;
    });
    /** @type {Map<string,string>} */
    tokens: Map<string, string>;
    /**
     *
     * @param {import('type-fest').JsonValue} data
     */
    broadcast(data: import("type-fest").JsonValue): void;
    /**
     * Disconnects all connected clients and stops the server
     */
    stop(): Promise<void>;
    #private;
}
export {};
//# sourceMappingURL=server.d.ts.map